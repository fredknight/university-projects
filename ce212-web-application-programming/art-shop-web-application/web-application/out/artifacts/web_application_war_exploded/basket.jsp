<%@ page import="shop.Product" %><jsp:useBean id='basket' scope='session' class='shop.Basket'/><jsp:include page="header.jsp"/><%    String empty = request.getParameter("emptyBasket");    if (empty != null) {        basket.clearBasket();        response.sendRedirect("basket.jsp");    }    String item = request.getParameter("addItem");    if (item != null) {        basket.addItem(item);        response.sendRedirect("basket.jsp");    }    String removeItem = request.getParameter("removeProduct");    if (removeItem != null) {        basket.removeProduct(removeItem);        response.sendRedirect("basket.jsp");    }    String incrementItem = request.getParameter("increment");    if (incrementItem != null) {        basket.increaseQuant(incrementItem);        response.sendRedirect("basket.jsp");    }    String decrementItem = request.getParameter("decrement");    if (decrementItem != null) {        basket.decreaseQuant(decrementItem);        response.sendRedirect("basket.jsp");    }%><html><head>    <link rel="stylesheet" type="text/css" href="css/basket.css">    <script src="js/order.js"></script>    <style>        #ba {            background-color: #333333;        }    </style></head><body><%    if (basket.getBasket().size() == 0) {%><div id="emptyB">    <h2>Basket is empty!</h2>    <h4><a href="index.jsp"> <b>&#8592;</b> Return to products </a></h4></div><%} else {%><div id="basket">    <table>        <tr>            <th></th>            <th>Preview</th>            <th>Title</th>            <th>Price</th>            <th>Quantity</th>            <th>Total</th>            <%                for (Product product : basket.getBasket().keySet()) {            %>        </tr>        <tr>            <td>                <form id="rem" action="basket.jsp" method="get">                    <input type="hidden" name="removeProduct"                           value="<%= product.PID %>">                    <input type="submit" value="Remove Item"/>                </form>            </td>            <td id="img">                <a href='<%="viewProduct.jsp?pid="+product.PID %>'><img                        src="<%= product.thumbnail %>"/></a>            </td>            <td>                <%= product.title %>            </td>            <td>                &pound;<%= product.getPrice() %>            </td>            <td>                <div class="quantity">                    <form action="basket.jsp" method="get">                        <input type="hidden" name="increment" value="<%= product.PID %>">                        <input type="submit" value="&#x2B06;"/>                    </form>                    <p style="text-align: center"><%= basket.getQuant(product) %>                    </p>                    <form action="basket.jsp" method="get"><input type="hidden" name="decrement"                                                                  value="<%= product.PID %>">                        <input type="submit" value="&#x2B07;"/>                    </form>                </div>            </td>            <td>                <b>&pound;<%= basket.getProductTotal(product) %>                </b>            </td>        </tr>        <%            }        %>    </table>    <br><br></div><%    if (basket.getTotal() > 0) {%><div id="order">    <h2>Order Details</h2>    <h3>Enter Name</h3>    <form id="pO" action="order.jsp" method="get" name="order" onsubmit="return checkBasket()">        <input type="text" placeholder="enter name" name="name" id="name" onclick="eraseText()" size="20">        <h5 id="tot">Order total = &pound;<%= basket.getTotalString() %>        </h5>        <input type="submit" value="Place Order"/>    </form>    <form id="eB" action="basket.jsp" method="get">        <input type="hidden" name="emptyBasket" value="yes">        <input type="submit" value="Empty Basket"/>    </form></div><%        }    }%></body></html>